<script type="text/html" id="select_permission">
	<title-row params="title: title"></title-row>
	<div class="list_parent">
		<div data-bind="ifnot: $root.userData.admin()">
			<div data-bind="foreach: $root.userData[permCode]" class="list_child">
				<div>
					<widget-delete data-bind="click: function() {$root.remove_permission($index(), $data, $parent.permCode);}"></widget-delete>
					<span data-bind="text: Studies.list().hasOwnProperty($data) ? Studies.list()[$data].title() : Lang.get('unknown') + ' (' + $data + ')'"></span>
				</div>
			</div>
			<widget-add data-bind="click: function() {$root.add_permission(permCode, $element);}" class="spacing_top"></widget-add>
		</div>
		<span data-bind="visible: $root.userData.admin()">&#10004;</span>
	</div>
</script>
<p data-bind="click: $root.change_accountName, text: Lang.get('change_username')"></p>

<change-account params="accountName: $root.userData.accountName(), finish: $root.change_password">
	<p data-bind=" text: Lang.get('change_password')"></p>
</change-account>

<label class="vertical">
	<span data-bind="text: Lang.get('colon_permissions_admin')"></span>
	<input type="checkbox" data-bind="checked: $root.userData.admin, event: {change: $root.user_toggle_admin}"/>
</label>
<label class="vertical">
	<span data-bind="text: Lang.get('colon_permissions_create')"></span>
	<input type="checkbox" data-bind="checked: $root.userData.create, event: {change: $root.user_toggle_create}"/>
</label>


<div data-bind="template: {name: 'select_permission', data: {title: Lang.get('colon_permissions_publish'), permCode: 'publish'}}"></div>
<div data-bind="template: {name: 'select_permission', data: {title: Lang.get('colon_permissions_write'), permCode: 'write'}}"></div>
<div data-bind="template: {name: 'select_permission', data: {title: Lang.get('colon_permissions_msg'), permCode: 'msg'}}"></div>
<div data-bind="template: {name: 'select_permission', data: {title: Lang.get('colon_permissions_read'), permCode: 'read'}}"></div>
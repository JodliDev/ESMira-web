<title-row params="title: Lang.get('reward_codes')"></title-row>
<dash-row>
	<search-box class="dashEl" params="titleKey: 'generated_reward_codes', list: $root.rewardCodes">
		<span class="verticalPadding searchTarget small_text" data-bind="click: $root.selectRewardCode,
				css: {'selected': $data === $root.code()},
				text: $data
			"></span>
	</search-box>
	
	<div class="multipleChildren">
		<div class="dashEl horizontalPadding verticalPadding">
			<label>
				<small data-bind="text: Lang.get('reward_code')"></small>
				<input type="text" data-bind="
						value: $root.code,
						css: {nothing: !$root.showResponse(), success: $root.showResponse() && !$root.faultyCode(), failed: $root.showResponse() && $root.faultyCode()},
						event: {change: $root.checkCode}
					"/>
				
				<input class="" type="button" data-bind="click: $root.checkCode, value: Lang.get('check')"/>
			</label>
		</div>
		<div data-bind="css: {visible: $root.showResponse() && !$root.faultyCode()}" class="dashEl vanishing mini_spacing_top">
			<h2 class="spacing_left" data-bind="text: Lang.get('colon_creation_date')"></h2>
			<div class="spacing_left horizontalPadding spacing_bottom" data-bind="text: (new Date($root.timestamp())).toLocaleString()"></div>
		</div>
		<div data-bind="css: {visible: $root.showResponse() && !$root.faultyCode()}" class="dashEl vanishing mini_spacing_top">
			<h2 class="spacing_left" data-bind="text: Lang.get('colon_entries_at_creation_time')"></h2>
			<table class="spacing_left spacing_bottom" data-bind="foreach: $root.questionnaireEntryCount">
				<tr>
					<td class="horizontalPadding" data-bind="text: title + ':'"></td>
					<td class="horizontalPadding" data-bind="text: count"></td>
				</tr>
			</table>
		</div>
	</div>
</dash-row>

<title-row params="title: Lang.get('participants')"></title-row>
<dash-row>
	<search-box class="dashEl" params="titleKey: 'without_reward_code', list: $root.participantsWithoutRewardCode">
		<span class="verticalPadding searchTarget small_text" data-bind="text: $data"></span>
	</search-box>
	<search-box class="dashEl" params="titleKey: 'with_reward_code', list: $root.participantsWithRewardCode">
		<span class="verticalPadding searchTarget small_text" data-bind="text: $data"></span>
	</search-box>
</dash-row>
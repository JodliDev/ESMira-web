
<div data-bind="if: Admin.enable_adminFeatures && Admin.tools.is_rootAdmin()">
	<title-row params="title: Lang.get('last_activities')"></title-row>
	<dash-row>
		<div class="stretched scrollBox">
			<table style="width: 100%" data-bind="foreach: {data: $root.lastActivities, as: 'activity'}">
				<tr data-bind="with: Studies.list()[activity.id]">
					<td data-bind="style: {opacity: published() ? 1 : 0.5}">
						<a data-bind="navi: 'dataList,id:'+activity.id, text: title()"></a>
					</td>
					<td data-bind="text: new Date(activity.timestamp*1000).toLocaleString(), attr: {class: Date.now()/1000 - activity.timestamp > 60*60*24*14 ? '' : 'highlight'}"></td>
				</tr>
			</table>
		</div>
	</dash-row>

	<title-row params="title: Lang.get('server_statistics')"></title-row>
</div>

<dash-row>
	<div class="multipleChildren vertical">
		<div class="dashEl">
			<h2 class="center" data-bind="text: Lang.get('colon_active_studies')"></h2>
			<div class="center" data-bind="text: $root.total_studies()"></div>
			<br/>
		</div>
		<div class="dashEl">
			<h2 class="center" data-bind="text: Lang.get('colon_total_completed_questionnaires')"></h2>
			<div class="center" data-bind="text: $root.total_questionnaires()"></div>
			<br/>
		</div>
		<div class="dashEl">
			<h2 class="center" data-bind="text: Lang.get('colon_total_participants')"></h2>
			<div class="center" data-bind="text: $root.total_users()"></div>
			<br/>
		</div>
	</div>
	
	<div class="dashEl" id="app_type_graph"></div>
	
	<div class="stretched dashEl" id="daily_appVersion_graph"></div>
	
	<div class="stretched dashEl" id="daily_questionnaire_graph"></div>
	<div class="stretched dashEl" id="daily_joined_graph"></div>
	<div class="dashEl" id="weekdays_questionnaire_graph"></div>
	<div class="dashEl" id="weekdays_joined_graph"></div>
</dash-row>

<br/>
<br/>
<div class="small_text right">
	<span data-bind="text: Lang.get('colon_data_collected_since')"></span>
	<span data-bind="text: (new Date($root.created()*1000).toLocaleDateString())"></span>
</div>
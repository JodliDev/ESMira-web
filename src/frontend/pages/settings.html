<tab-bar params="tabs: ['general', 'impressum', 'privacyPolicy'], tabName: Lang.get, selectedIndex: $root.selectedIndex"></tab-bar>
<div data-bind="if: $root.selectedIndex() == 0">
	<label class="vertical">
		<small data-bind="text: Lang.get('server_name')"></small>
		<input type="text" data-bind="value: serverName"/>
	</label>
	
	
	<title-row params="title: Lang.get('additional_languages')"></title-row>
	<div class="list_parent">
		<div class="list_child" data-bind="foreach: langCodes">
			<div data-bind="if: $data !== '_'">
				<widget-delete data-bind="click: $root.remove_lang"></widget-delete>
				<span data-bind="text: $data"></span>
			</div>
		</div>
		<widget-add data-bind="click: $root.add_lang" params="title: Lang.get('add')"></widget-add>
	</div>
	
	<title-row params="title: Lang.get('server_update', $root.currentVersion)"></title-row>
	
	<label class="right">
		<small data-bind="text: Lang.get('update_version')"></small>
		<select class="small" data-bind="indexValue: $root.isPreRelease">
			<option selected="selected" data-bind="text: Lang.get('stable')"></option>
			<option data-bind="text: Lang.get('unstable')"></option>
		</select>
	</label>
	
	<div class="spacing_top" data-bind="if: $root.hasUpdate()">
		<div class="center">
			<span data-bind="html: Lang.get('info_newVersionAvailable')"></span>
			<span class="highlight" data-bind="html: $root.newVersion"></span>
		</div>
		<div class="center spacing_top">
			<input type="button" data-bind="click: $root.updateNow, value: Lang.get('update_now')"/>
		</div>
		<div class="spacing_top" data-bind="foreach: $root.releases()">
			<br/>
			<h1>
				<span data-bind="text: version"></span>
				<span data-bind="text: '('+date.toLocaleDateString()+')'"></span>
			</h1>
			<div data-bind="html: $root.markdownRenderer.render(changeLog)"></div>
		</div>
	</div>
	<div class="center highlight" data-bind="if: !$root.hasUpdate()">
		<div class="center highlight" data-bind="text: $root.noConnectionToUpdate() ? Lang.get('info_no_connection_to_update_server') : Lang.get('info_ESMira_is_up_to_date')"></div>
	</div>
</div>

<div data-bind="if: $root.selectedIndex() == 1">
	<div class="line fakeLabel spacing_bottom">
		<rich-text params="value: impressum, noLang: true"></rich-text>
	</div>
</div>

<div data-bind="if: $root.selectedIndex() == 2">
	<div class="line fakeLabel spacing_bottom">
		<rich-text params="value: privacyPolicy, noLang: true"></rich-text>
	</div>
</div>